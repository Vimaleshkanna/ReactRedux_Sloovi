(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{23:function(t,e,a){},79:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),c=a(24),r=a.n(c),o=a(5),i=a(30),l=a(15),u=a(11),d=a(6),b=a.n(d),p=a(14),j=a(13),k=a.n(j),m="ADD_TASK",O="UPDATE_TASK",h="DELETE_TASK",v="CLEAR_TASK",f="GET_ACCESS",g="GET_ALL_TASK",x="GET_TASK",_="CLEAR_FIELD",y=a(26),N=a(4),T=(a(23),a(2)),w=a.n(T),S=function(t){return function(){var e=Object(p.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a({type:v,payload:{},taskNumber:t})}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(t,e){return function(){var a=Object(p.a)(b.a.mark((function a(s){var n,c,r,o,i,l,u,d,p;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new Date,c=e.assigned_user,r=e.task_date,o=e.task_time,i=n.getSeconds(),l=e.task_msg,1,u={headers:{"Content-Type":"application/json"}},d=JSON.stringify({assigned_user:c,task_date:r,task_time:o,is_completed:1,time_zone:i,task_msg:l}),a.prev=9,a.next=12,k.a.put("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),d,u);case 12:p=a.sent,console.log(p.data),s({type:O,payload:p.data,id:t}),a.next=20;break;case 17:a.prev=17,a.t0=a.catch(9),console.log(a.t0);case 20:case"end":return a.stop()}}),a,null,[[9,17]])})));return function(t){return a.apply(this,arguments)}}()},M=function(){return function(){var t=Object(p.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e({type:_,payload:{}})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=a(18),U=a(1),D=Object(u.b)((function(t){return{task:t.task.task,isUpdate:t.task.isUpdate,taskNumber:t.task.taskNumber,auth:t.auth,updateTask:w.a.func.isRequired}}),{addTask:function(t,e){return function(){var a=Object(p.a)(b.a.mark((function a(s){var n,c,r,o,i,l,u,d,p;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new Date,c=t.assigned_user,r=t.task_date,o=3600*parseInt(t.task_time),i=n.getSeconds(),l=t.task_msg,1,u={headers:{"Content-Type":"application/json"}},d=JSON.stringify({assigned_user:c,task_date:r,task_time:o,is_completed:1,time_zone:i,task_msg:l}),a.prev=9,a.next=12,k.a.post("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d?company_id=".concat(localStorage.getItem("company_id")),d,u);case 12:p=a.sent,s({type:m,payload:p.data,taskNumber:e}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(9),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[9,16]])})));return function(t){return a.apply(this,arguments)}}()},clearTask:S,deleteTask:function(t){return function(){var e=Object(p.a)(b.a.mark((function e(a){var s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.delete("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),s);case 4:n=e.sent,a({type:h,payload:n.data,id:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},clearField:M,updateTask:A})((function(t){var e=t.addTask,a=t.task,n=t.clearTask,c=t.isUpdate,r=t.deleteTask,o=(t.auth,t.taskNumber),i=(t.clearField,t.updateTask),u=Object(s.useState)({task_msg:"",task_date:"",task_time:"",assigned_user:""}),d=Object(l.a)(u,2),b=d[0],p=d[1],j=Object(s.useState)(!0),k=Object(l.a)(j,2),m=k[0],O=k[1],h=Object(s.useState)(),v=Object(l.a)(h,2),f=v[0],g=v[1];Object(s.useEffect)((function(){g(a.id),c||n(o),p(Object(N.a)(Object(N.a)({},b),{},{task_msg:a.task_msg,task_date:a.task_date,task_time:a.task_time,assigned_user:a.assigned_user}))}),[c]);var x=Object(s.useState)(1),_=Object(l.a)(x,2),T=_[0],w=_[1],S=function(t){p(Object(N.a)(Object(N.a)({},b),{},Object(y.a)({},t.target.name,t.target.value)))};return Object(U.jsx)("div",{className:"bottom",children:Object(U.jsx)("div",{className:"container",children:Object(U.jsxs)("form",{children:[Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"description",children:[Object(U.jsx)("p",{className:"title col-sm-12",children:"Task Description"}),Object(U.jsx)("input",{className:"col-sm-12 text",type:"text",name:"task_msg",value:b.task_msg,onChange:function(t){return S(t)},required:!0})]})}),Object(U.jsxs)("div",{className:"row",children:[Object(U.jsxs)("div",{className:"date col-sm-6",children:[Object(U.jsx)("p",{className:"title",children:"Date"}),Object(U.jsx)("div",{className:"md-form md-outline input-with-post-icon datepicker",children:Object(U.jsx)("input",{name:"task_date",placeholder:"Select date",type:"date",id:"example",className:"form-control",value:b.task_date,onChange:function(t){return S(t)},required:!0})})]}),Object(U.jsxs)("div",{className:"date col-sm-6",children:[Object(U.jsx)("p",{className:"title",children:"Time"}),Object(U.jsx)("input",{list:"times",type:"text",className:"time",name:"task_time",onChange:function(t){return S(t)},value:b.task_time,required:!0}),Object(U.jsxs)("datalist",{id:"times",children:[Object(U.jsx)("option",{value:"12 A.M"}),Object(U.jsx)("option",{value:"01 A.M"}),Object(U.jsx)("option",{value:"02 A.M"}),Object(U.jsx)("option",{value:"03 A.M"}),Object(U.jsx)("option",{value:"04 A.M"}),Object(U.jsx)("option",{value:"05 A.M"}),Object(U.jsx)("option",{value:"06 A.M"}),Object(U.jsx)("option",{value:"07 A.M"}),Object(U.jsx)("option",{value:"08 A.M"}),Object(U.jsx)("option",{value:"09 A.M"}),Object(U.jsx)("option",{value:"10 A.M"}),Object(U.jsx)("option",{value:"11 A.M"}),Object(U.jsx)("option",{value:"12 P.M"}),Object(U.jsx)("option",{value:"01 P.M"}),Object(U.jsx)("option",{value:"02 P.M"}),Object(U.jsx)("option",{value:"03 P.M"}),Object(U.jsx)("option",{value:"04 P.M"}),Object(U.jsx)("option",{value:"05 P.M"}),Object(U.jsx)("option",{value:"06 P.M"}),Object(U.jsx)("option",{value:"07 P.M"}),Object(U.jsx)("option",{value:"08 P.M"}),Object(U.jsx)("option",{value:"09 P.M"}),Object(U.jsx)("option",{value:"10 P.M"}),Object(U.jsx)("option",{value:"11 P.M"})]})]})]}),Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"user",children:[Object(U.jsx)("p",{className:"title col-sm-12",children:"Assign User"}),Object(U.jsx)("input",{className:"col-sm-12 text",type:"text",name:"assigned_user",value:b.assigned_user,onChange:function(t){return S(t)},required:!0})]})}),c&&Object(U.jsx)("button",{className:"btn btn-danger",onClick:function(t){t.preventDefault(),r(f)},children:"Delete"}),Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"button",children:[c?Object(U.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){t.preventDefault(),p(Object(N.a)(Object(N.a)({},b),{},{task_msg:a.task_msg,task_date:a.task_date,task_time:a.task_time,assigned_user:a.assigned_user})),i(f,b)},children:"Save"}):Object(U.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(t){t.preventDefault(),w(T),n(T)},children:"Cancel"}),c?null:Object(U.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){t.preventDefault()," "===b.assigned_user||" "===b.task_msg||" "===b.task_date||" "===b.task_time?O(!0):O(!1),m?alert("All fields are Mandatory"):(w(T+1),e(b,T))},children:"Save"})]})})]})})})})),P=a(17),E=Object(u.b)(null,{updateTask:A,getTask:function(t){return function(){var e=Object(p.a)(b.a.mark((function e(a){var s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.get("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),s);case 4:n=e.sent,a({type:x,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.task,a=(t.taskNumber,t.updateTask,t.getTask);return Object(U.jsx)("div",{className:"taskList",children:Object(U.jsx)("div",{className:"card w-100",children:Object(U.jsxs)("div",{className:"card-body ",style:{display:"flex",color:"forestgreen",backgroundColor:"antiquewhite"},children:[Object(U.jsx)("h5",{children:e.task_msg}),Object(U.jsx)("div",{style:{marginLeft:"auto"},children:Object(U.jsx)(C.a,{icon:P.a,style:{cursor:"pointer",color:"black"},onClick:function(t){t.preventDefault(),a(e.id)}})})]})})})})),I=Object(u.b)((function(t){return{tasks:t.task.tasks,taskNumber:t.task.taskNumber}}))((function(t){var e=t.tasks,a=t.taskNumber;return Object(U.jsx)("div",{className:"task",children:e.map((function(t){return Object(U.jsx)(E,{task:t,taskNumber:a})}))})})),L=Object(u.b)((function(t){return{taskNumber:t.task.taskNumber}}))((function(t){var e=t.childToParent,a=t.isClicked,s=t.taskNumber;return Object(U.jsxs)("nav",{className:"navbar navbar-light bg-light",children:[Object(U.jsxs)("section",{children:["Tasks ",s]}),Object(U.jsx)("div",{className:"plus",children:Object(U.jsx)(C.a,{style:{cursor:"pointer"},icon:P.b,onClick:function(t){e(!a)}})})]})})),q=function(t){t?k.a.defaults.headers.common.Authorization="Bearer "+t:delete k.a.defaults.common.Authorization};localStorage.token&&q(localStorage.token);var F=Object(u.b)((function(t){return{isUpdate:t.task.isUpdate,taskNumber:t.task.taskNumber,auth:t.auth,task:t.task.task}}),{getAccess:function(){return function(){var t=Object(p.a)(b.a.mark((function t(e){var a,s,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"smithwills1989@gmail.com","12345678",a={headers:{"Content-Type":"application/json",Accept:"application/json"}},s=JSON.stringify({email:"smithwills1989@gmail.com",password:"12345678"}),t.prev=4,t.next=7,k.a.post("https://stage.api.sloovi.com/login",s,a);case 7:n=t.sent,e({type:f,payload:n.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()},getAllTask:function(){return function(){var t=Object(p.a)(b.a.mark((function t(e){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,k.a.get("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d?company_id=".concat(localStorage.getItem("company_id")),a);case 4:s=t.sent,e({type:g,payload:s.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},clearTask:S,clearField:M})((function(t){t.taskNumber;var e=t.isUpdate,a=t.getAccess,n=t.auth,c=t.getAllTask,r=t.clearField,o=(t.task,t.clearTask,Object(s.useState)(!1)),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(s.useEffect)((function(){a(),200===n.code&&(localStorage.setItem("token",n.results.token),localStorage.setItem("company_id",n.results.company_id)),c()}),[]),Object(U.jsxs)("div",{className:"dashboard",children:[Object(U.jsx)(L,{childToParent:function(t){d(t),r()},isClicked:u}),u||e?Object(U.jsx)(D,{}):Object(U.jsx)(I,{})]})}));localStorage.token&&q(localStorage.token);var K=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(i.a,{children:Object(U.jsx)("div",{className:"container mt-3",children:Object(U.jsx)(o.c,{children:Object(U.jsx)(o.a,{exact:!0,path:"/",component:F})})})})})},J=(a(78),a(16)),z=a(43),R=a(44),G=a(21),B={task:{},tasks:[],taskNumber:0,loading:!0,isUpdate:!1},W={},H=Object(J.combineReducers)({task:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0,a=e.type,s=e.payload,n=(e.taskNumber,e.id);switch(a){case m:return Object(N.a)(Object(N.a)({},t),{},{task:s.results,tasks:[].concat(Object(G.a)(t.tasks),[s.results]),taskNumber:t.tasks.length,loading:!1,isUpdate:!1});case g:return Object(N.a)(Object(N.a)({},t),{},{tasks:[].concat(Object(G.a)(t.tasks),[Object.assign.apply(Object,Object(G.a)(s.results))]),loading:!1,isUpdate:!1,taskNumber:t.tasks.length});case x:return Object(N.a)(Object(N.a)({},t),{},{task:s.results,isUpdate:!t.isUpdate,taskNumber:t.tasks.length});case v:return Object(N.a)(Object(N.a)({},t),{},{task:{},tasks:Object(G.a)(t.tasks),taskNumber:t.tasks.length,loading:!0,isUpdate:!1});case _:return Object(N.a)(Object(N.a)({},t),{},{isUpdate:!1,taskNumber:t.tasks.length});case O:return Object(N.a)(Object(N.a)({},t),{},{task:s.results,tasks:t.tasks.map((function(t){return t.id===s.results.id?s.results:t})),isUpdate:!t.isUpdate,loading:!1,taskNumber:t.tasks.length});case h:return Object(N.a)(Object(N.a)({},t),{},{task:s,tasks:t.tasks.filter((function(t){return t.id!==n})),isUpdate:!1,loading:!1,taskNumber:t.tasks.length});default:return Object(N.a)(Object(N.a)({},t),{},{taskNumber:t.tasks.length})}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,e=arguments.length>1?arguments[1]:void 0,a=e.type,s=e.payload;switch(a){case f:return Object(N.a)(Object(N.a)({},t),s);default:return Object(N.a)({},t)}}}),Q=[R.a],V=Object(J.createStore)(H,{},Object(z.composeWithDevTools)(J.applyMiddleware.apply(void 0,Q)));r.a.render(Object(U.jsx)(n.a.StrictMode,{children:Object(U.jsx)(u.a,{store:V,children:Object(U.jsx)(K,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.dbe19868.chunk.js.map