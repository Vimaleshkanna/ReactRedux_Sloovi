(this.webpackJsonpnew=this.webpackJsonpnew||[]).push([[0],{23:function(t,e,a){},79:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),c=a(24),r=a.n(c),o=a(5),i=a(30),l=a(15),u=a(11),d=a(6),b=a.n(d),j=a(14),p=a(13),k=a.n(p),m="ADD_TASK",O="UPDATE_TASK",h="DELETE_TASK",v="CLEAR_TASK",f="GET_ACCESS",x="GET_ALL_TASK",g="GET_TASK",y="CLEAR_FIELD",N=a(26),_=a(4),T=(a(23),a(2)),w=a.n(T),S=function(t){return function(){var e=Object(j.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a({type:v,payload:{},taskNumber:t})}catch(s){console.log(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(t){return function(){var e=Object(j.a)(b.a.mark((function e(a){var s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.put("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),s);case 4:n=e.sent,console.log(n.data),a({type:O,payload:n.data,id:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},M=a(19),C=a(1),U=Object(u.b)((function(t){return{task:t.task.task,isUpdate:t.task.isUpdate,taskNumber:t.task.taskNumber,auth:t.auth,updateTask:w.a.func.isRequired}}),{addTask:function(t,e){return function(){var a=Object(j.a)(b.a.mark((function a(s){var n,c,r,o,i,l,u,d,j;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=new Date,c=t.assigned_user,r=t.task_date,o=3600*parseInt(t.task_time),i=n.getSeconds(),l=t.task_msg,1,u={headers:{"Content-Type":"application/json"}},d=JSON.stringify({assigned_user:c,task_date:r,task_time:o,is_completed:1,time_zone:i,task_msg:l}),a.prev=9,a.next=12,k.a.post("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d?company_id=".concat(localStorage.getItem("company_id")),d,u);case 12:j=a.sent,s({type:m,payload:j.data,taskNumber:e}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(9),console.log(a.t0);case 19:case"end":return a.stop()}}),a,null,[[9,16]])})));return function(t){return a.apply(this,arguments)}}()},clearTask:S,deleteTask:function(t){return function(){var e=Object(j.a)(b.a.mark((function e(a){var s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.delete("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),s);case 4:n=e.sent,a({type:h,payload:n.data,id:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},clearField:function(){return function(){var t=Object(j.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e({type:y,payload:{}})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateTask:A})((function(t){var e=t.addTask,a=t.task,n=t.clearTask,c=t.isUpdate,r=t.deleteTask,o=(t.auth,t.taskNumber),i=t.clearField,u=t.updateTask,d=Object(s.useState)({task_msg:"",task_date:"",task_time:"",assigned_user:""}),b=Object(l.a)(d,2),j=b[0],p=b[1],k=Object(s.useState)(!0),m=Object(l.a)(k,2),O=m[0],h=m[1],v=Object(s.useState)(),f=Object(l.a)(v,2),x=f[0],g=f[1];Object(s.useEffect)((function(){g(a.id),c?i():n(o)}),[c]);var y=Object(s.useState)(1),T=Object(l.a)(y,2),w=T[0],S=T[1],A=function(t){p(Object(_.a)(Object(_.a)({},j),{},Object(N.a)({},t.target.name,t.target.value))),""===j.assigned_user&&""===j.task_msg&&""===j.task_date&&""===j.task_time||h(!1)};return Object(C.jsx)("div",{className:"bottom",children:Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("form",{children:[Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"description",children:[Object(C.jsx)("p",{className:"title col-sm-12",children:"Task Description"}),Object(C.jsx)("input",{className:"col-sm-12 text",type:"text",name:"task_msg",value:a.task_msg,onChange:function(t){return A(t)},required:!0})]})}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsxs)("div",{className:"date col-sm-6",children:[Object(C.jsx)("p",{className:"title",children:"Date"}),Object(C.jsx)("div",{className:"md-form md-outline input-with-post-icon datepicker",children:Object(C.jsx)("input",{name:"task_date",placeholder:"Select date",type:"date",id:"example",className:"form-control",value:a.task_date,onChange:function(t){return A(t)},required:!0})})]}),Object(C.jsxs)("div",{className:"date col-sm-6",children:[Object(C.jsx)("p",{className:"title",children:"Time"}),Object(C.jsx)("input",{list:"times",type:"text",className:"time",name:"task_time",onChange:function(t){return A(t)},value:a.task_time,required:!0}),Object(C.jsxs)("datalist",{id:"times",children:[Object(C.jsx)("option",{value:"12 A.M"}),Object(C.jsx)("option",{value:"01 A.M"}),Object(C.jsx)("option",{value:"02 A.M"}),Object(C.jsx)("option",{value:"03 A.M"}),Object(C.jsx)("option",{value:"04 A.M"}),Object(C.jsx)("option",{value:"05 A.M"}),Object(C.jsx)("option",{value:"06 A.M"}),Object(C.jsx)("option",{value:"07 A.M"}),Object(C.jsx)("option",{value:"08 A.M"}),Object(C.jsx)("option",{value:"09 A.M"}),Object(C.jsx)("option",{value:"10 A.M"}),Object(C.jsx)("option",{value:"11 A.M"}),Object(C.jsx)("option",{value:"12 P.M"}),Object(C.jsx)("option",{value:"01 P.M"}),Object(C.jsx)("option",{value:"02 P.M"}),Object(C.jsx)("option",{value:"03 P.M"}),Object(C.jsx)("option",{value:"04 P.M"}),Object(C.jsx)("option",{value:"05 P.M"}),Object(C.jsx)("option",{value:"06 P.M"}),Object(C.jsx)("option",{value:"07 P.M"}),Object(C.jsx)("option",{value:"08 P.M"}),Object(C.jsx)("option",{value:"09 P.M"}),Object(C.jsx)("option",{value:"10 P.M"}),Object(C.jsx)("option",{value:"11 P.M"})]})]})]}),Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"user",children:[Object(C.jsx)("p",{className:"title col-sm-12",children:"Assign User"}),Object(C.jsx)("input",{className:"col-sm-12 text",type:"text",name:"assigned_user",value:a.assigned_user,onChange:function(t){return A(t)},required:!0})]})}),c&&Object(C.jsx)("button",{className:"btn btn-danger",onClick:function(t){t.preventDefault(),r(x)},children:"Delete"}),Object(C.jsx)("div",{className:"row",children:Object(C.jsxs)("div",{className:"button",children:[c?Object(C.jsx)("button",{type:"submit",className:"btn btn-success",onClick:function(t){t.preventDefault(),u(x)},children:"Save"}):Object(C.jsx)("button",{type:"button",className:"btn btn-light",onClick:function(t){t.preventDefault(),S(w),n(w)},children:"Cancel"}),c?null:Object(C.jsx)("button",{type:"submit",className:"btn btn-success ".concat(O?"d-none":"d-block"),onClick:function(t){t.preventDefault(),S(w+1),e(j,w)},children:"Save"})]})})]})})})})),D=a(18),P=Object(u.b)(null,{updateTask:A,getTask:function(t){return function(){var e=Object(j.a)(b.a.mark((function e(a){var s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,k.a.get("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d/".concat(t,"?company_id=").concat(localStorage.getItem("company_id")),s);case 4:n=e.sent,a({type:g,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){var e=t.task,a=(t.taskNumber,t.updateTask,t.getTask);return Object(C.jsx)("div",{className:"taskList",children:Object(C.jsx)("div",{className:"card w-100",children:Object(C.jsxs)("div",{className:"card-body ",style:{display:"flex",color:"forestgreen",backgroundColor:"antiquewhite"},children:[Object(C.jsx)("h5",{children:e.task_msg}),Object(C.jsx)("div",{style:{marginLeft:"auto"},children:Object(C.jsx)(M.a,{icon:D.a,style:{cursor:"pointer",color:"black"},onClick:function(t){t.preventDefault(),a(e.id)}})})]})})})})),E=Object(u.b)((function(t){return{tasks:t.task.tasks,taskNumber:t.task.taskNumber}}))((function(t){var e=t.tasks,a=t.taskNumber;return Object(C.jsx)("div",{className:"task",children:e.map((function(t){return Object(C.jsx)(P,{task:t,taskNumber:a})}))})})),I=Object(u.b)((function(t){return{taskNumber:t.task.taskNumber}}))((function(t){var e=t.childToParent,a=t.isClicked,s=t.taskNumber;return Object(C.jsxs)("nav",{className:"navbar navbar-light bg-light",children:[Object(C.jsxs)("section",{children:["Tasks ",s]}),Object(C.jsx)("div",{className:"plus",children:Object(C.jsx)(M.a,{style:{cursor:"pointer"},icon:D.b,onClick:function(t){e(!a)}})})]})})),L=function(t){t?k.a.defaults.headers.common.Authorization="Bearer "+t:delete k.a.defaults.common.Authorization};localStorage.token&&L(localStorage.token);var q=Object(u.b)((function(t){return{isUpdate:t.task.isUpdate,taskNumber:t.task.taskNumber,auth:t.auth}}),{getAccess:function(){return function(){var t=Object(j.a)(b.a.mark((function t(e){var a,s,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"smithwills1989@gmail.com","12345678",a={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:"smithwills1989@gmail.com",password:"12345678"}),t.prev=4,t.next=7,k.a.post("https://stage.api.sloovi.com/login",s,a);case 7:n=t.sent,e({type:f,payload:n.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()},getAllTask:function(){return function(){var t=Object(j.a)(b.a.mark((function t(e){var a,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,k.a.get("https://stage.api.sloovi.com/task/lead_cb11a91b1bff4c42806b5c8dea51425d?company_id=".concat(localStorage.getItem("company_id")),a);case 4:s=t.sent,e({type:x,payload:s.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},clearTask:S})((function(t){var e=t.taskNumber,a=t.isUpdate,n=t.getAccess,c=t.auth,r=t.getAllTask,o=t.clearTask,i=Object(s.useState)(!1),u=Object(l.a)(i,2),d=u[0],b=u[1];return Object(s.useEffect)((function(){n(),200===c.code&&(localStorage.setItem("token",c.results.token),localStorage.setItem("company_id",c.results.company_id)),r()}),[]),Object(C.jsxs)("div",{className:"dashboard",children:[Object(C.jsx)(I,{childToParent:function(t){b(t),o(e)},isClicked:d}),d||a?Object(C.jsx)(U,{}):Object(C.jsx)(E,{})]})}));localStorage.token&&L(localStorage.token);var K=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(i.a,{children:Object(C.jsx)("div",{className:"container mt-3",children:Object(C.jsx)(o.c,{children:Object(C.jsx)(o.a,{exact:!0,path:"/",component:q})})})})})},F=(a(78),a(16)),J=a(43),R=a(44),z=a(17),G={task:{},tasks:[],taskNumber:0,loading:!0,isUpdate:!1},B={},W=Object(F.combineReducers)({task:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,e=arguments.length>1?arguments[1]:void 0,a=e.type,s=e.payload,n=(e.taskNumber,e.id);switch(a){case m:return Object(_.a)(Object(_.a)({},t),{},{task:s.results,tasks:[].concat(Object(z.a)(t.tasks),[s.results]),taskNumber:t.tasks.length,loading:!1,isUpdate:!1});case x:return Object(_.a)(Object(_.a)({},t),{},{tasks:[].concat(Object(z.a)(t.tasks),[Object.assign.apply(Object,Object(z.a)(s.results))]),loading:!1,isUpdate:!1,taskNumber:t.tasks.length});case g:return Object(_.a)(Object(_.a)({},t),{},{task:s.results,isUpdate:!t.isUpdate,taskNumber:t.tasks.length});case v:return Object(_.a)(Object(_.a)({},t),{},{task:{},tasks:Object(z.a)(t.tasks),taskNumber:t.tasks.length,loading:!0,isUpdate:!1});case y:return Object(_.a)(Object(_.a)({},t),{},{task:{},tasks:Object(z.a)(t.tasks),isUpdate:!0,taskNumber:t.tasks.length});case O:return Object(_.a)(Object(_.a)({},t),{},{task:s,tasks:t.tasks.map((function(t){return t.id===n?Object(_.a)(Object(_.a)({},t),{},{task:s}):t})),isUpdate:!t.isUpdate,loading:!1,taskNumber:t.tasks.length});case h:return Object(_.a)(Object(_.a)({},t),{},{task:s,tasks:t.tasks.filter((function(t){return t.id!==n})),isUpdate:!1,loading:!1,taskNumber:t.tasks.length});default:return Object(_.a)(Object(_.a)({},t),{},{taskNumber:t.tasks.length})}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,e=arguments.length>1?arguments[1]:void 0,a=e.type,s=e.payload;switch(a){case f:return Object(_.a)(Object(_.a)({},t),s);default:return Object(_.a)({},t)}}}),H=[R.a],Q=Object(F.createStore)(W,{},Object(J.composeWithDevTools)(F.applyMiddleware.apply(void 0,H)));r.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(u.a,{store:Q,children:Object(C.jsx)(K,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.a0a492b5.chunk.js.map